<div id="grid" [class.dark]="theme == 'dark'">
	<app-toolbar
		[(theme)]="theme"
		[portraitMode]="portraitMode"
		[(mapMode)]="mapMode"
	></app-toolbar>
	<mat-drawer-container>
		<mat-drawer
			[class.portrait]="portraitMode"
			#drawer
			mode="side"
			position="end"
		>
			<button
				*ngIf="portraitMode"
				type="button"
				mat-raised-button
				(click)="drawer.toggle()"
				id="returnButton"
			>
				<mat-icon>arrow_back</mat-icon>
			</button>
			<app-stats
				#stats
				[indeterminate]="sliderIndeterminate"
				[filterRange]="filter"
			></app-stats>
		</mat-drawer>
		<app-map
			(inspectUuid)="stats.setInspect($event)"
			[theme]="theme"
			[mode]="mapMode"
			[filter]="filter"
		></app-map>
		<button
			id="statsButton"
			type="button"
			class="floatAbove"
			mat-raised-button
			(click)="drawer.toggle()"
		>
			Stats
		</button>
		<app-slider
			class="floatAbove"
			[portraitMode]="portraitMode"
			id="timeSlider"
			[class.portrait]="portraitMode"
			[(date)]="filter.to"
			(indeterminateChange)="indeterminateChange($event)"
		></app-slider>
	</mat-drawer-container>
</div>
